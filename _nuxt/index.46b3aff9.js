import{_ as g}from"./nuxt-link.e5d5c199.js";import{n as b,r as p,P as k,aa as v,o as a,c as l,ab as N,ac as D,z as s,a as n,Q as U,N as m,G as _,A as f,H as $,a4 as C,b as h,w as x,a2 as y,t as M}from"./entry.bc979787.js";const P={class:"relative"},T={key:0,class:"absolute w-full mt-1 max-h-52 overflow-y-auto"},B=["src","alt"],G={class:"whitespace-no-wrap"},d="bg-black-muted py-1 px-2 shadow block w-full rounded",I=b({__name:"PlayerSearch",setup(w){const o=p(),r=p(""),c=p(!1);return k(r,async e=>{c.value=!0;try{if(!e){o.value=[];return}const i=await v(e);o.value=i.Response.searchResults.map(u=>u.destinyMemberships[0])}finally{c.value=!1}},{debounce:500}),(e,i)=>{const u=g;return a(),l("div",P,[N(n("input",{id:"gamertag","onUpdate:modelValue":i[0]||(i[0]=t=>U(r)?r.value=t:null),type:"search",class:"placeholder-white-muted bg-black-muted py-1 px-2 rounded shadow block w-full focus:outline-none",placeholder:"Gamertag",autofocus:""},null,512),[[D,s(r)]]),s(r)?(a(),l("ul",T,[s(c)?(a(),l("li",{key:0,class:m(d)},"Searching...")):(a(),l(_,{key:1},[s(o)&&!s(o).length?(a(),l("li",{key:0,class:m(d)},"No results...")):f("",!0),(a(!0),l(_,null,$(s(o),t=>(a(),l("li",{key:("getMembershipTypeId"in e?e.getMembershipTypeId:s(C))(t)},[h(u,{to:`/${t.membershipType}/${t.membershipId}`,class:m([d,"flex items-center space-x-2"])},{default:x(()=>[n("img",{src:`https://bungie.net${t.iconPath}`,alt:("getUserDisplayName"in e?e.getUserDisplayName:s(y))(t),class:"flex-shrink-0 h-5 w-5 pointer-events-none"},null,8,B),n("span",G,M(("getUserDisplayName"in e?e.getUserDisplayName:s(y))(t)),1)]),_:2},1032,["to","class"])]))),128))],64))])):f("",!0)])}}}),L=""+new URL("logo.b50560ae.png",import.meta.url).href,R={class:"h-screen flex flex-col justify-center items-center space-y-4"},S=n("img",{src:L,class:"h-52"},null,-1),V=n("h1",{class:"flex justify-center items-end"},[n("div",{class:"text-4xl font-bold"},"Glory"),n("div",{class:"text-3xl"},".report")],-1),A=b({__name:"index",setup(w){return(o,r)=>{const c=g,e=I;return a(),l("div",R,[h(c,{to:"/",class:"flex flex-col items-center justify-center"},{default:x(()=>[S,V]),_:1}),h(e)])}}});export{A as default};
