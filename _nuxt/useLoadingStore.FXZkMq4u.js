import{aj as d,r as c,v as f,ak as g,a4 as h,al as y}from"./entry.SSo4dfEb.js";import{u,a as I}from"./useReportStore.I9EVMVej.js";const b=d("activities",()=>{const r=u(),n=I(),o=c(0),s=c([]),i=t=>{s.value=s.value.filter(e=>e!==t)},v=f(()=>!s.value.length),m=t=>{o.value=0,s.value.push(...t.map(e=>e.characterId));for(const e of t)l(e,0)},l=async(t,e)=>{const a=(await g(t.membershipId,t.membershipType,t.characterId,n.signal,e)).Response.activities;if(!(a!=null&&a.length)){i(t.characterId);return}for(const p of a)r.fetchReport(p.activityDetails.instanceId);o.value+=a.length,l(t,e+1)};return{load:m,activityCount:o,done:v}}),R=d("loading",()=>{const r=b(),n=u(),o=c(!1);return h(()=>[r.done,n.idle],([s,i])=>{o.value=!s||!i},{throttle:500,immediate:!0}),{loading:y(o)}});export{R as a,b as u};
