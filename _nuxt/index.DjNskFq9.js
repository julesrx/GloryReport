import{_ as g}from"./nuxt-link.ZDaEiLYS.js";import{n as b,r as p,X as N,aa as v,ab as k,o as l,c as n,ac as D,ad as M,y as s,a as i,Y as U,P as m,M as y,z as _,N as B,V as $,b as h,w as x,Q as f,t as P}from"./entry.5F9xWDvr.js";const C={class:"relative"},R={key:0,class:"absolute w-full mt-1 max-h-52 overflow-y-auto"},S=["src","alt"],T={class:"whitespace-no-wrap"},d="bg-black-muted py-1 px-2 shadow block w-full rounded",V=b({__name:"PlayerSearch",setup(w){const o=p(),c=p(""),u=p(!1);return N(c,async e=>{u.value=!0;try{if(!e){o.value=[];return}if(e.includes("#")){const r=e.split("#"),t=await v(r[0],Number(r[1]));o.value=t.Response}else{const r=await k(e);o.value=r.Response.searchResults.filter(t=>t.destinyMemberships&&t.destinyMemberships.length).map(t=>t.destinyMemberships[0])}}finally{u.value=!1}},{debounce:500}),(e,r)=>{const t=g;return l(),n("div",C,[D(i("input",{id:"gamertag","onUpdate:modelValue":r[0]||(r[0]=a=>U(c)?c.value=a:null),type:"search",class:"placeholder-white-muted bg-black-muted py-1 px-2 rounded shadow block w-full focus:outline-none",placeholder:"BungieName#1234",autofocus:""},null,512),[[M,s(c)]]),s(c)?(l(),n("ul",R,[s(u)?(l(),n("li",{key:0,class:m(d)},"Searching...")):(l(),n(y,{key:1},[s(o)&&!s(o).length?(l(),n("li",{key:0,class:m(d)},"No results...")):_("",!0),(l(!0),n(y,null,B(s(o),a=>(l(),n("li",{key:("getMembershipTypeId"in e?e.getMembershipTypeId:s($))(a)},[h(t,{to:`/${a.membershipType}/${a.membershipId}`,class:m([d,"flex items-center space-x-2"])},{default:x(()=>[i("img",{src:`https://bungie.net${a.iconPath}`,alt:("getUserDisplayName"in e?e.getUserDisplayName:s(f))(a),class:"flex-shrink-0 h-5 w-5 pointer-events-none"},null,8,S),i("span",T,P(("getUserDisplayName"in e?e.getUserDisplayName:s(f))(a)),1)]),_:2},1032,["to","class"])]))),128))],64))])):_("",!0)])}}}),I=""+new URL("logo.DGSYrUnZ.png",import.meta.url).href,L={class:"h-screen flex flex-col justify-center items-center space-y-4"},j=i("img",{src:I,class:"h-52"},null,-1),G=i("h1",{class:"flex justify-center items-end"},[i("div",{class:"text-4xl font-bold"},"Glory"),i("div",{class:"text-3xl"},".report")],-1),E=b({__name:"index",setup(w){return(o,c)=>{const u=g,e=V;return l(),n("div",L,[h(u,{to:"/",class:"flex flex-col items-center justify-center"},{default:x(()=>[j,G]),_:1}),h(e)])}}});export{E as default};
