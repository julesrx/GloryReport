import{_ as g}from"./nuxt-link.Q9G6lyhJ.js";import{n as b,r as p,X as N,aa as k,ab as v,o as a,c as l,ac as D,ad as B,y as s,a as r,Y as U,P as m,M as _,z as y,N as $,V as M,b as h,w as x,Q as f,t as P}from"./entry.SSo4dfEb.js";const C={class:"relative"},R={key:0,class:"absolute w-full mt-1 max-h-52 overflow-y-auto"},T=["src","alt"],V={class:"whitespace-no-wrap"},d="bg-black-muted py-1 px-2 shadow block w-full rounded",I=b({__name:"PlayerSearch",setup(w){const n=p(),c=p(""),i=p(!1);return N(c,async e=>{i.value=!0;try{if(!e){n.value=[];return}if(e.includes("#")){const o=e.split("#"),u=await k(o[0],Number(o[1]));n.value=u.Response}else{const o=await v(e);n.value=o.Response.searchResults.map(u=>u.destinyMemberships[0])}}finally{i.value=!1}},{debounce:500}),(e,o)=>{const u=g;return a(),l("div",C,[D(r("input",{id:"gamertag","onUpdate:modelValue":o[0]||(o[0]=t=>U(c)?c.value=t:null),type:"search",class:"placeholder-white-muted bg-black-muted py-1 px-2 rounded shadow block w-full focus:outline-none",placeholder:"BungieName#1234",autofocus:""},null,512),[[B,s(c)]]),s(c)?(a(),l("ul",R,[s(i)?(a(),l("li",{key:0,class:m(d)},"Searching...")):(a(),l(_,{key:1},[s(n)&&!s(n).length?(a(),l("li",{key:0,class:m(d)},"No results...")):y("",!0),(a(!0),l(_,null,$(s(n),t=>(a(),l("li",{key:("getMembershipTypeId"in e?e.getMembershipTypeId:s(M))(t)},[h(u,{to:`/${t.membershipType}/${t.membershipId}`,class:m([d,"flex items-center space-x-2"])},{default:x(()=>[r("img",{src:`https://bungie.net${t.iconPath}`,alt:("getUserDisplayName"in e?e.getUserDisplayName:s(f))(t),class:"flex-shrink-0 h-5 w-5 pointer-events-none"},null,8,T),r("span",V,P(("getUserDisplayName"in e?e.getUserDisplayName:s(f))(t)),1)]),_:2},1032,["to","class"])]))),128))],64))])):y("",!0)])}}}),L=""+new URL("logo.xkmK1J2e.png",import.meta.url).href,S={class:"h-screen flex flex-col justify-center items-center space-y-4"},j=r("img",{src:L,class:"h-52"},null,-1),z=r("h1",{class:"flex justify-center items-end"},[r("div",{class:"text-4xl font-bold"},"Glory"),r("div",{class:"text-3xl"},".report")],-1),F=b({__name:"index",setup(w){return(n,c)=>{const i=g,e=I;return a(),l("div",S,[h(i,{to:"/",class:"flex flex-col items-center justify-center"},{default:x(()=>[j,z]),_:1}),h(e)])}}});export{F as default};
